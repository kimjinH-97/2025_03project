<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>네이버검색 API 위시리스트</title>
    <!-- bootstrap(css) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"></script>
    <!-- jQuery(js) -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- vue(js) -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>
</head>
<body>
<br>
<!-- 검색 영역 -->
<div class="container">
    <div class="row">
        <!-- 검색 상자 -->
        <div class="col-md-8">
            <input type="text" id="searchBox" class="form-control" value="커피" />
        </div>
        <!-- 검색 버튼 -->
        <div class="col-md-4">
            <button type="button" id="searchButton" class="btn btn-primary" style="width: 100%;">
                검색
            </button>
        </div>
    </div>
    <br>
    <!-- 검색 결과영역 -->
    <div class="row" id = "search-result">
        <!-- 검색 결과 이미지 화면 -->
        <div class="col-md-8">
            <img v-bind:src="search_result.imageLink" alt="검색결과 이미지"
                 style="width: 730px; height: 600px;"/>
        </div>
        <!-- 검색 결과 텍스트 결과 화면 -->
        <div class="col-md-4">
            <ul class="list-group list-group-flush">
                <!-- API를 통해서 받은 데이터를 바인딩 -->
                <li class="list-group-item" id ="wish-title">{{ search_result.title }}</li>
                <li class="list-group-item">{{ search_result.category }}</li>
                <li class="list-group-item">{{ search_result.jibunAddress }}</li>
                <li class="list-group-item">{{ search_result.roadAddress }}</li>
                <li class="list-group-item">{{ search_result.homepageLink }}</li>
                <li class="list-group-item">
                    <a v-if="search_result.homepageLink" v-bind:href="search_result.homepageLink" target="_blank">홈페이지</a>
                </li>
            </ul>

            <button type="button" class="btn btn-primary" id="wish-button"
                style="position:absolute; bottom: 0px; width: 100%;">
                검색리스트 추가
            </button>
        </div>
    </div>
    <br><br>
    <!--나의 검색리스트 라벨-->
    <div class="row">
        <div class="col-md-12 alert alert-primary" style="text-align: center;">
            나의 검색 리스트
        </div>
    </div>

    <!--나의 검색리스트 결과영역-->
    <div class="row" id="wish-list-result">
        <div v-for="(result, idx) in result_list" class="row">
            <div class="col-md-8">
                <!--컨트롤러에 있는 imageLink-->
                <img v-bind:src="result.imageLink" style="width: 730px; height: 600px;">
            </div>
            <div class="col-md-4">
                <ul class="list-group list-group-flush">
                    <!-- API를 통해서 받은 데이터를 바인딩 -->
                    <li class="list-group-item">타이틀: {{ result.title }}</li>
                    <li class="list-group-item">카테고리: {{ result.category }} </li>
                    <li class="list-group-item">지번주소: {{ result.jibunAddress }} </li>
                    <li class="list-group-item">도로명주소: {{ result.roadAddress }} </li>
                    <li class="list-group-item">방문여부: {{ result.visitIs }} </li>
                    <li class="list-group-item">방문횟수: {{ result.visitCount }} </li>
                    <li class="list-group-item">마지막 방문날짜: {{ result.lastVisitDate }} </li>
                    <li class="list-group-item">
                        <a v-if="result.homepageLink" v-bind:href="result.homepageLink" target="_blank">홈페이지</a>
                    </li>
                </ul>

                <br><br>
                <button type="button" class="btn btn-primary"
                        style="width: 100%;"
                        @click="updateResult(result.id)"
                >
                    방문기록 추가
                </button>
                <br><br>
                <button type="button" class="btn btn-primary"
                        style="width: 100%;"
                        @click="deleteResult(result.id)"
                >
                    검색결과 삭제
                </button>
            </div>
        </div>
    </div>
</div>

<script src="/js/main.js"></script>
</body>
</html>